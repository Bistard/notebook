# 介绍

如果说程序运行时, 将特定的内存块分配给了new关键词, 当你不再使用它的时候, 你需要使用**delete关键词去释放**那一个内存块. 如果不释放那一个内存块, 系统在分配给其他工作时无法继续分配这一个特定的内存块, 久而久之, 内存就会出现不够用的情况. 而delete关键词可以清除特定指针下的内存块.

```cpp
delete name;
delete[] name;
```

# 案例

延续<u>new关键词</u>的案例, 假设我们写入以下代码:

```cpp
delete pNum;
```

delete关键词会将指针pNum所指向的内存块给**释放**掉, 就像下面一样:

| 内存(memory) | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   |
| ------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 值(value)    |      |      |      |      |      |      |      | 2    |      |      |      |
| 名字(name)   |      |      |      |      |      |      |      | pNum |      |      |      |

注意: delete并不会删除pNum这个指针, 仅仅是清除了该指针所指向的内存块.

为了以防万一, 我们还会将该指针设为NULL.

```cpp
pNum = NULL;  
```

| 内存(memory) | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   |
| ------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 值(value)    |      |      |      |      |      |      |      | NULL |      |      |      |
| 名字(name)   |      |      |      |      |      |      |      | pNum |      |      |      |

# 小知识

Q: 为什么要支持`delete`和`delete []`不同的语法?

A: 因为在释放array的内存中, 会需要一部分的开销去检查这个array的大小为多少, 这样才能正确释放内存. 但是如果我们只是单纯的释放一个object的内存, 比如`delete ObjectName;`, 已知一个object的大小, 又已知我们只需要释放一个object的内存, 为什么还要为此特地花上时间去检查我们要释放多少个object呢? 因此, 提供了`delete [];`语法去选择性查看释放内存对象的个数, 提高效率.

